<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Typing Speed Test</title>

  <style>
    body{
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      color:#ecf0f1;
    }

    .typing-box{
      width:380px;
      background:#1e272e;
      padding:22px;
      border-radius:12px;
      box-shadow:0 15px 40px rgba(0,0,0,0.6);
    }

    h4{
      text-align:center;
      margin-bottom:15px;
      color:#00cec9;
      font-size:20px;
    }
    .highlight-text{
      color:#fbc531;
      font-weight:bold;
    }

    .timer{
      text-align:center;
      font-weight:bold;
      margin-bottom:10px;
      color:#ffa502;
      font-size:16px;
    }

    textarea{
      width:100%;
      height:100px;
      padding:10px;
      border-radius:6px;
      border:1px solid #57606f;
      resize:none;
      background:#111;
      color:#ffffff;
      font-size:14px;
    }

    textarea::placeholder{
      color:#7f8c8d;
    }

    textarea:focus{
      outline:none;
      border-color:#00cec9;
    }

    button{
      width:100%;
      margin-top:12px;
      padding:10px;
      background:#2ed573;
      color:#000;
      border:none;
      border-radius:6px;
      font-size:15px;
      font-weight:bold;
      cursor:pointer;
    }

    button:hover{
      background:#1dd1a1;
    }

    #resultBox{
      margin-top:12px;
      background:#2f3640;
      padding:12px;
      border-radius:6px;
      text-align:center;
      font-weight:bold;
      color:#ffffff;
    }
  </style>
</head>
<body>

<div class="typing-box">
  <h4>Typing Speed Test</h4>

  <div id="displayText">
    <span class="highlight-text">
      My name is Batta Manojkumar Naidu, and I am learning frontend web development.
    </span><br><br>
    I have strong basics in HTML and CSS to design clean and responsive web pages.
    I am currently learning JavaScript to build interactive and dynamic websites.
  </div>

  <p class="timer">
    Time Remaining: <span id="timeLeft">120</span> sec
  </p>

  <textarea
    id="typingArea"
    placeholder="Start typing here..."
    disabled>
  </textarea>

  <button onclick="startTest()">Start Test</button>

  <div id="resultBox"></div>
</div>

<script>
  let totalTime = 120;
  let timeLeft = totalTime;
  let timerStarted = false;
  let timer;

  const typingArea = document.getElementById("typingArea");
  const timeDisplay = document.getElementById("timeLeft");
  const resultBox = document.getElementById("resultBox");
  const originalText = document.getElementById("displayText").innerText;

  function startTest(){
    typingArea.value = "";
    typingArea.disabled = false;
    resultBox.innerHTML = "";
    timeLeft = totalTime;
    timeDisplay.innerText = timeLeft;
    timerStarted = false;
    typingArea.focus();
  }

  typingArea.addEventListener("input", function(){
    if(!timerStarted){
      timerStarted = true;
      startTimer();
    }
  });

  function startTimer(){
    timer = setInterval(function(){
      timeLeft--;
      timeDisplay.innerText = timeLeft;

      if(timeLeft === 0){
        clearInterval(timer);
        finishTest();
      }
    },1000);
  }

  function finishTest(){
    typingArea.disabled = true;

    let typedText = typingArea.value.trim();
    let typedWords = typedText === "" ? 0 : typedText.split(/\s+/).length;

    let minutes = totalTime / 60;
    let wpm = Math.round(typedWords / minutes);

    let correctChars = 0;
    for(let i = 0; i < typedText.length; i++){
      if(typedText[i] === originalText[i]){
        correctChars++;
      }
    }

    let accuracy = typedText.length === 0 ? 0 :
      Math.round((correctChars / typedText.length) * 100);

    resultBox.innerHTML = `
      Words Typed: ${typedWords}<br>
      Speed: ${wpm} WPM<br>
      Accuracy: ${accuracy}%
    `;
  }
</script>

</body>
</html>
